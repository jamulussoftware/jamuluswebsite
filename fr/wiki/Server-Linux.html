<!DOCTYPE html><!--[if IE 9]><html class="ie9"><![endif]--><html lang="fr"><head><title>Installation d'un serveur sous Linux – Wiki de Jamulus</title><meta charset="utf-8"/><link rel="alternate" hreflang="en" href="https://jamulus.io/wiki/Server-Linux"/><link rel="alternate" hreflang="es" href="https://jamulus.io/es/wiki/Server-Linux"/><link rel="alternate" hreflang="de" href="https://jamulus.io/de/wiki/Server-Linux"/><link rel="alternate" hreflang="it" href="https://jamulus.io/it/wiki/Server-Linux"/><link rel="alternate" hreflang="fr" href="https://jamulus.io/fr/wiki/Server-Linux"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="/assets/css/fox.min.css"/><link rel="stylesheet" href="/assets/css/fw.css"/><noscript><link rel="stylesheet" href="/assets/css/noscript.css"/></noscript><link rel="apple-touch-icon" sizes="57x57" href="/fr/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/fr/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/fr/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/fr/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/fr/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/fr/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/fr/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/fr/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/fr/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/fr/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/fr/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/fr/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/fr/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><meta name="color-scheme" content="dark light"/><link rel="author" href="/humans.txt"/><script src="/assets/js/nav.js"></script><link rel="stylesheet" href="/assets/css/wiki.css"><meta name="description" content=""></head><body class="wikisite"><header class="fx-row fx-row-between-xs fx-text-center"><div class="fx-col fx-text-center"><a href="/fr/"><img alt="Icône de Jamulus. Redirige vers la page d'accueil du Wiki." width="40" height="40" src="/assets/img/jamulus-icon-2020.svg"/></a></div><div class="fx-col-center-xs fx-txt-right hide-on-dt"><a href="#mnv" onclick="showNav();return false;"><svg role="img" width="20" height="20" aria-labelledby="ntitle" id="navbtn" class="hide-on-dt"><title id="ntitle">Premier pasr</title><g><rect fill="currentcolor" id="r1" width="100%" height="3" x="0" y="0"/><rect fill="currentcolor" id="r2" width="100%" height="3" x="0" y="8"/><rect fill="currentcolor" id="r3" width="100%" height="3" x="0" y="16"/></g></svg></a></div></header><div class="fx-row fx-row-center-xs"><aside id="gnav" class="fx-col-100-xs fx-col-25-m"><div id="langselect"><div lang="en" id="suglang">This site might also be available in your native language. Select your preferred language below:</div><ul><li><a href=" /wiki/Server-Linux" data-slang="en">en</a></li><li><a href="/es/wiki/Server-Linux" data-slang="es">es</a></li><li><a href="/de/wiki/Server-Linux" data-slang="de">de</a></li><li><a href="/it/wiki/Server-Linux" data-slang="it">it</a></li><li class="selected" data-slang="fr">fr</li></ul></div><nav id="mnv"><ul><li><h3>Utiliser Jamulus</h3><ul><li><a href="/fr/wiki/Getting-Started" class="">Premier pas</a><ul><li><a href="/fr/wiki/Installation-for-Windows" class="">Windows</a></li><li><a href="/fr/wiki/Installation-for-Macintosh" class="">macOS</a></li><li><a href="/fr/wiki/Installation-for-Linux" class="">Linux</a></li></ul></li><li><a href="/fr/wiki/Onboarding" class="">Embarquement</a></li><li><a href="/fr/wiki/Software-Manual" class="">Manuel du logiciel</a></li><li><a href="/fr/wiki/Client-Troubleshooting" class="">Dépannage</a></li></ul></li><li><h3>En savoir plus</h3><ul><li><a href="/fr/wiki/Running-a-Server" class="">Administrer un serveur</a></li><li><a href="/fr/wiki/Command-Line-Options" class="">Configuration</a></li><li><a href="/fr/wiki/Tips-Tricks-More" class="">Trucs et astuces</a></li><li><a href="/fr/wiki/Demos" class="">Démos</a></li><li><a href="/fr/wiki/Privacy-Statement" class="">Déclaration de confidentialité</a></li></ul></li></ul></nav></aside><div id="maincontainer" class="fx-col-100-xs fx-col-50-m"><noscript class="red"><strong>JavaScript est désactivé sur votre navigateur. Il n'y a aucun problème à ça. Ce site a été créé de manière à fournir les fonctionnalités basiques sans JS. Activer Javascript vous permettrait d'accéder à des fonctionnalités supplémentaires de ce site.</strong></noscript><main lang="fr"><h1 id="installation-dun-serveur-sous-linux">Installation d’un serveur sous Linux</h1><p><strong><em>Veuillez d’abord vous assurez d’avoir lu la <a href="Running-a-Server">vue générale d’un serveur</a></em></strong></p><h2 id="exécuter-un-serveur-avec-iug">Exécuter un serveur avec IUG</h2><p>Si vous prévoyez d’exécuter le serveur sur votre poste de travail (et que vous avez déjà installé le client Jamulus), vous pouvez exécuter le serveur dans le <a href="Choosing-a-Server-Type">mode serveur</a> choisi en exécutant Jamulus avec l’option <code class="language-plaintext highlighter-rouge">-s</code> comme suit :</p><ol><li>Ouvrir une fenêtre de terminal (<code class="language-plaintext highlighter-rouge">CTRL+ALT+t</code> sur Ubuntu et distributions associées).</li><li>Partant du principe que Jamulus est dans <code class="language-plaintext highlighter-rouge">/usr/local/bin</code>, taper <code class="language-plaintext highlighter-rouge">Jamulus -s</code></li></ol><p>Appuyez sur entrée et vous devriez voir la fenêtre de contrôle du serveur. Vous pouvez arrêter le serveur en fermant la fenêtre du serveur, ou en tapant CTRL+C dans le terminal.</p><p><strong>Pour configurer le serveur</strong>, veuillez vous référer aux <a href="Server-Win-Mac">instructions pour Windows et Macintosh</a>.</p><p>Voir aussi les <a href="Command-Line-Options">options en ligne de commande</a> pour les autres paramètres que vous pouvez configurer.</p><h2 id="exécuter-un-serveur-sans-iug">Exécuter un serveur sans IUG</h2><p>Le guide suivant permet d’utiliser Jamulus comme un serveur “pur” sur du <strong>matériel sans audio</strong> (par exemple sur un hôte tiers ou dans le nuage) et suppose des distributions Ubuntu/Debian utilisant systemd. Nous avons également des instructions pour <a href="Server-Rpi">Raspberry Pi</a>, qui est aussi très bien.</p><ul><li><em>L’utilisateur de Jamulus <a href="https://sourceforge.net/u/cidnurg/profile/">Grigory (en anglais)</a>, maintient une <strong><a href="https://hub.docker.com/r/grundic/jamulus">image Docker pour Jamulus (en anglais)</a></strong> que vous pouvez utiliser.</em></li></ul><h3 id="compilation-des-sources-création-dun-utilisateur">Compilation des sources, création d’un utilisateur</h3><ol><li><a href="Installation-for-Linux#obtenir-les-sources-de-jamulus">Téléchargez les sources</a>, installez les <a href="Installation-for-Linux#installation-des-dépendances">paquets dépendants</a> comme indiqué dans le guide d’installation du client Linux. À noter que <strong>vous n’avez pas besoin d’installer le(s) paquet(s) JACK</strong> pour un serveur sans <abbr title="Interface utilisateur graphique">IUG</abbr>. <em>Si vous prévoyez d’éxecuter un serveur sans IUG sous Gentoo, ou que vous compilez sous Ubuntu pour une utilisation sur une autre machine Ubuntu, <a href="#que-fait-le-drapeau-de-compilation--headless--">voir les notes de bas de page</a>.</em></li><li>Compilez les sources en ignorant la bibliothèque audio JACK :</li></ol><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qmake "CONFIG+=nosound headless" Jamulus.pro
make clean
make
</code></pre></div></div><ol><li><p>Déplacez le fichier binaire <code class="language-plaintext highlighter-rouge">Jamulus</code> résultant vers un emplacement permanent, ou utilisez la commande <code class="language-plaintext highlighter-rouge">sudo make install</code>. Vous pouvez désormais retirer le répertoire des sources si vous le désirez.<br/>   <br/><strong>Le reste de ce guide suppose que vous utilisez <code class="language-plaintext highlighter-rouge">/usr/local/bin/Jamulus</code></strong>.</p></li><li><p>Créez un utilisateur système sans privilège pour le fonctionnement du serveur (il s’exécutera en tant qu’utilisateur <em>jamulus</em>, groupe <em>nogroup</em>.) :</p></li></ol><p><code class="language-plaintext highlighter-rouge">sudo adduser --system --no-create-home jamulus</code></p><h3 id="création-dun-script-de-démarrage">Création d’un script de démarrage</h3><p>Après avoir décidé dans quel mode vous souhaitez faire fonctionner votre serveur, utilisez systemd pour le démarrer.</p><p>Créez un fichier d’unité systemd qui lancera le serveur au moment du démarrage (merci à <a href="https://sourceforge.net/u/dkxl/profile/">David Harrold (en anglais)</a> pour cela).</p><p>Le fichier d’unité applique une priorité élevée au processeur et à l’ordonnancement des E/S au traitement du serveur. Ceci est optionnel (et peut être ignoré sur certains hôtes).</p><p>Notez aussi que les entrées de journalisation du serveur iront dans journalctl (utilisez <a href="https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs">journald (en anglais)</a> pour les consulter).</p><p><strong>Note</strong> : le reste de ce guide suppose que vous êtes en mode “public” en utilisant l’option <code class="language-plaintext highlighter-rouge">-e</code> (<code class="language-plaintext highlighter-rouge">--centralserver</code>). Ceci précise dans quelle liste de genres musicaux votre serveur apparaîtra. Voir <a href="Central-Servers">la liste des genres disponibles ici</a>).</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=Jamulus-Server
After=network.target

[Service]
Type=simple
User=jamulus
Group=nogroup
NoNewPrivileges=true
ProtectSystem=true
ProtectHome=true
Nice=-20
IOSchedulingClass=realtime
IOSchedulingPriority=0

#### Change this to set genre, location and other parameters.
#### See [Command-Line-Options](Command-Line-Options) ####
ExecStart=/usr/local/bin/Jamulus -s -n -e jamulus.fischvolk.de -o "yourServerName;yourCity;[country ID]"

Restart=on-failure
RestartSec=30
StandardOutput=journal
StandardError=inherit
SyslogIdentifier=jamulus

[Install]
WantedBy=multi-user.target
</code></pre></div></div><p>Copier le fichier d’unité dans <code class="language-plaintext highlighter-rouge">/etc/systemd/system</code> et donnez lui les permissions :</p><p><code class="language-plaintext highlighter-rouge">sudo cp jamulus.service /etc/systemd/system/jamulus.service</code></p><p><code class="language-plaintext highlighter-rouge">sudo chmod 644 /etc/systemd/system/jamulus.service</code></p><p>Testez que ça démarre bien :</p><p><code class="language-plaintext highlighter-rouge">sudo systemctl start jamulus</code></p><p><code class="language-plaintext highlighter-rouge">sudo systemctl status jamulus</code></p><p>Vous devriez voir quelque chose comme ceci :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>● jamulus.service
   Loaded: loaded (/lib/systemd/system/jamulus.service; enabled; vendor preset: enabled)
   Active: active (running) since Thu 2020-03-26 11:52:34 GMT; 4s ago
 Main PID: 1308 (Jamulus)
    Tasks: 2 (limit: 4915)
   CGroup: /system.slice/jamulus.service
           └─1308 /usr/local/bin/Jamulus -s -n -e jamulus.fischvolk.de -o yourServerName;yourCity;[country ID]

Mar 26 11:52:34 oddjob systemd[1]: Started jamulus.service.
Mar 26 11:52:35 oddjob jamulus[1308]: - server mode chosen
Mar 26 11:52:35 oddjob jamulus[1308]: - no GUI mode chosen
Mar 26 11:52:35 oddjob jamulus[1308]: - central server: jamulus.fischvolk.de
Mar 26 11:52:35 oddjob jamulus[1308]: - server info: yourServerName;yourCity;[country ID]
Mar 26 11:52:35 oddjob jamulus[1308]: - welcome message: Thanks for connecting!
Mar 26 11:52:35 oddjob jamulus[1308]:  *** Jamulus, Version [version]
Mar 26 11:52:35 oddjob jamulus[1308]:  *** Internet Jam Session Software
Mar 26 11:52:35 oddjob jamulus[1308]:  *** Under the GNU General Public License (GPL)
</code></pre></div></div><p>Si tout va bien, activez le service de lancement au démarrage avec :</p><p><code class="language-plaintext highlighter-rouge">sudo systemctl enable jamulus</code></p><p>Vous pouvez aussi contrôler Jamulus avec la commande <code class="language-plaintext highlighter-rouge">service</code>. Par exemple :</p><p><code class="language-plaintext highlighter-rouge">sudo service jamulus status</code></p><p>qui indique si Jamulus fonctionne bien, et affiche les quelques dernières lignes du journal (où vous verrez les connexions actives). Note : pressez <code class="language-plaintext highlighter-rouge">q</code> pour quitter le statut de service.</p><h3 id="mettre-à-jour-votre-installation-vers-une-nouvelle-version">Mettre à jour votre installation vers une nouvelle version</h3><p>Téléchargez les nouvelles sources comme indiqué dans les <a href="#compilation-des-sources-création-dun-utilisateur">instructions ci-dessus</a> et répétez la compilation à l’étape 2 comme pour une nouvelle installation. Arrêtez le serveur, copiez le fichier binaire Jamulus en écrasant l’ancien, et redémarrez le serveur.</p><hr/><p>Voir aussi les <a href="Command-Line-Options">options en ligne de commande</a> pour les autres paramètres que vous pouvez configurer.</p><h2 id="notes-de-bas-de-page">Notes de bas de page</h2><h3 id="contrôler-les-enregistrements">Contrôler les enregistrements</h3><p>Lorsque vous utilisez la <a href="Server-Win-Mac#enregistrement">fonction d’enregistrement</a> avec <a href="Command-Line-Options">l’option en ligne de commande</a><code class="language-plaintext highlighter-rouge">-R</code>, si le serveur reçoit un signal SIGUSR1 pendant un enregistrement, il commencera un nouvel enregistrement dans un nouveau répertoire. SIGUSR2 activera/désactivera l’enregistrement.</p><p>Pour envoyer ces signaux en utilisant systemd, créez les deux fichiers <code class="language-plaintext highlighter-rouge">.service</code> suivants dans <code class="language-plaintext highlighter-rouge">/etc/systemd/system</code>, en les appelant par un nom approprié (par exemple <code class="language-plaintext highlighter-rouge">nouvelEnregistrement-Jamulus-server.service</code>).</p><p>Pour activer ou désactiver l’enregistrement (en fonction de l’état courant) :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=Toggle recording state of Jamulus server
Requisite=Jamulus-Server

[Service]
Type=oneshot
ExecStart=/bin/systemctl kill -s SIGUSR2 Jamulus-Server
</code></pre></div></div><p>Pour démarrer un nouvel enregistrement :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=Start a new recording on Jamulus server
Requisite=Jamulus-Server

[Service]
Type=oneshot
ExecStart=/bin/systemctl kill -s SIGUSR1 Jamulus-Server
</code></pre></div></div><p><em>Note : le nom du service Jamulus dans la ligne <code class="language-plaintext highlighter-rouge">ExecStart</code> doit être le même que le nom du fichier <code class="language-plaintext highlighter-rouge">.service</code> que vous avez créé lors de la configuration de systemd pour contrôler votre serveur Jamulus. Ainsi dans cet exemple, ça serait <code class="language-plaintext highlighter-rouge">Jamulus-Server.service</code>.</em></p><p>Exécutez <code class="language-plaintext highlighter-rouge">sudo systemctl daemon-reload</code> pour les sauvegarder pour la première utilisation.</p><p>Vous pouvez maintenant les exécuter avec la commande <code class="language-plaintext highlighter-rouge">service start</code>, par exemple :</p><p><code class="language-plaintext highlighter-rouge">sudo service jamulusTogglerec start</code> (en supposant que vous ayez nommé votre fichier d’unité <code class="language-plaintext highlighter-rouge">jamulusTogglerec.service</code>)</p><p>Vous pouvez voir le résultat de ces commandes di vous lancez <code class="language-plaintext highlighter-rouge">service jamulus status</code>, ou en consultant les journaux.</p><h3 id="consulter-les-journaux">Consulter les journaux</h3><p>Jamulus journalisera dans le fichier du système si vous avez laissé le paramètre <code class="language-plaintext highlighter-rouge">StandardOutput=journal</code> dans le fichier d’unité. Il est recommandé de se connecter au journal du système, car le système gère le fichier journal pour vous, sans avoir à revenir pour le purger plus tard ou à vous soucier du remplissement de votre disque.</p><p>Pour lire le journal, utilisez <code class="language-plaintext highlighter-rouge">journalctl</code> (pressez Ctrl-C pour quitter). Par exemple, pour lire le fichier de journalisation du système, filtré sur le service Jamulus :</p><p><code class="language-plaintext highlighter-rouge">journalctl -u jamulus</code></p><p>Pour les entrées du jour :</p><p><code class="language-plaintext highlighter-rouge">journalctl -u jamulus</code></p><p>Pour la dernière heure :</p><p><code class="language-plaintext highlighter-rouge">journalctl -u jamulus --since "1 hour ago"</code></p><p>Filtrez le journal pour voir les messages de connexion de votre serveur Jamulus :</p><p><code class="language-plaintext highlighter-rouge">journalctl -u jamulus | grep connected</code></p><p>Suivre (affichez à l’écran) les messages du journal Jamulus en temps réel :</p><p><code class="language-plaintext highlighter-rouge">journalctl -f -u jamulus</code></p><h3 id="que-fait-le-drapeau-de-compilation--headless--">Que fait le drapeau de compilation « headless » ?</h3><p>Bien que cela ne soit pas strictement nécessaire, nous recommandons d’utiliser le drapeau <code class="language-plaintext highlighter-rouge">headless</code> pour accélérer le processus de construction. Les utilisateurs de Gentoo devraient également éviter d’installer certaines dépendances en conséquence. <a href="Compiling#le-fanion-de-compilation-headless">Plus d’informations ici</a>.</p></main><div id="editsitecontent"><a href="https://github.com/jamulussoftware/jamulussoftware.github.io/edit/changes/wiki/fr/fr-Server-Linux.md" target="_blank" rel="noopener noreferrer"><svg aria-labelledby="etitle" width="20" height="20" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><title id="etitle">Modifier ce site</title><path fill="currentcolor" d="M888 1184l116-116-152-152-116 116v56h96v96h56zm440-720q-16-16-33 1l-350 350q-17 17-1 33t33-1l350-350q17-17 1-33zm80 594v190q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-14 14-32 8-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-126q0-13 9-22l64-64q15-15 35-7t20 29zm-96-738l288 288-672 672h-288v-288zm444 132l-92 92-288-288 92-92q28-28 68-28t68 28l152 152q28 28 28 68t-28 68z"/></svg></a></div><div id="ftext" class="fx-txt-center"><p><strong>Été 2020 ! Parlez nous de Jamulus - <a href="https://forms.gle/hSSjsxjWj2Pnp5kr7">répondez à notre sondage anonyme ! (en anglais)</a></strong></p><p>Cette documentation est sous <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.fr" target="_blank" rel="noreferrer">licence Creative Commons</a>. Voulez-vous <a href="Contribution">contribuer</a> ?</p></div></div></div><footer class="fx-row fx-row-around-xs" id="footer"><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://github.com/corrados/jamulus" target="_blank" rel="noreferrer"><img src="/assets/img/github.svg" alt="Dépôt GitHub de Jamulus" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://www.facebook.com/groups/619274602254947/" target="_blank" rel="noreferrer"><img src="/assets/img/facebook.svg" alt="Groupe Facebook de Jamulus" id="fb_icon" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://sourceforge.net/projects/llcon" target="_blank" rel="noreferrer"><img src="https://sourceforge.net/sflogo.php?type=17&amp;group_id=158367" alt="Télécharger Jamulus sur SourceForge.net. Téléchargements rapides et sécurisés de logiciels open-source" class="fx-center" id="sflogo"/></a></div><div id="copyright" class="fx-col-100-xs fx-row-center-xs"> Créé par <a href="https://github.com/corrados" target="_blank" rel="noreferrer">Volker Fischer</a> et <a href="https://github.com/corrados/jamulus/graphs/contributors" target="_blank" rel="noreferrer">les contributeurs</a></div></footer><script>var ja=window.navigator.language||window.navigator.userLanguage,mu=document.documentElement.lang,lus=["en","es","de","it","fr"],regex=RegExp("^"+mu);regex.test(ja)||lus.forEach(function(e){ja.match("^"+e)&&(document.getElementById("langselect").classList.add("chlang","red"),document.getElementById("suglang").style.display="block",document.querySelectorAll("[data-slang="+e+"]")[0].classList.add("proplang"))});</script></body></html>