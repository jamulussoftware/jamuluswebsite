---
layout: wiki
title: "Custom Directories"
lang: "en"
permalink: "/wiki/Custom-Directories"
---

{% include breadcrumb.html root="More" branch1="Server Administration" branch1-url="Running-a-Server" %}


# Running a Custom Directory 

This is a specialised Jamulus server configuration, as described in [server types](Running-a-Server#server-types). 

To view servers listed by a Custom Directory, users must enter the address in their clientâ€™s "Custom Directory Server" settings field.  They will then see a Connect list generated by your Directory. Custom Directories otherwise work for clients in the same way as Public Directories.

To run a server as a Directory, it should be started with the `--directoryserver` option to make itself (that is, 'localhost' or '127.0.0.1') the Directory to query for servers.

When running a server with the GUI, select "Custom" from the Directory drop-down list, and set the Custom Directory Address field in the Options tab.  


### Points to note about Directories

- If you want to control which servers can register with your Directory, you can enable a whitelist with the `--listfilter` command line option in the format `ip address 1[;ip address 2]`. 

- When running a Directory behind a NAT firewall on a private network, use the `--serverpublicip` option to specify the public IP address of the server(s) being listed by your Directory if those servers are on the same LAN / with the same public IP as the Directory. This is necessary to allow clients on the public Internet to connect to them via NAT. Note that for the servers using this option, you will still need proper port forwarding in your router/firewall.

- If you are running your server as a Directory and need to restart it for any reason (for example when rebooting the host), servers connected to it will be disconnected until they re-register. This does not mean that clients connected to those servers will be disconnected, but does mean that new clients will be not able to see servers listed by your directory until those servers reconnect. To enable the list of registered servers to persist between restarts, use the `--directoryfile` option to specify the location and name of a file that the directory can read and write to.

- Up to 150 servers can then register with a Directory.
